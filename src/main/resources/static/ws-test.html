<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Test</title>
</head>
<body>
<h2>WebSocket Location Test</h2>

<script>
    const token = "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4ZmY5OTExYi1lN2U5LTQ3ZmQtODk1Mi1hYzgyOTAyYmYwMDciLCJyb2xlIjoiUklERVIiLCJpYXQiOjE3Njg1Mzk0ODcsImV4cCI6MTc2OTE0NDI4N30.NuzDfJJz4n5cJ4KLxjFtop7e4aF4mWonHBykQ9_6iL0";

    const socket = new WebSocket(
      `ws://localhost:8081/ws/location?token=${token}`
    );

    socket.onopen = () => {
      console.log("‚úÖ WebSocket CONNECTED");

      setInterval(() => {
        const payload = {
          lat: 12.9716 + Math.random() / 1000,
          lng: 77.5946 + Math.random() / 1000
        };
        socket.send(JSON.stringify(payload));
        console.log("üìç Sent:", payload);
      }, 3000);
    };

    socket.onerror = (e) => console.error("‚ùå WebSocket ERROR", e);
    socket.onclose = () => console.warn("‚ö†Ô∏è WebSocket CLOSED");
</script>
</body>
</html>
<!-- ws://<BASE_URL>/ws/location?token=<USER_JWT> -->